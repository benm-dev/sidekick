import{a as G}from"./chunk-5JS46TXG.js";import{C as xe,H as Oe,a as Ee}from"./chunk-I3ILDBO5.js";import{i as Ce,j as We,m as He}from"./chunk-3ZYQDD7H.js";import{F as _e,N as je,T as Le,a as Be,b as q,k as Pe,n as Ne,w as Ie}from"./chunk-OBPWZYQZ.js";import{a as Me}from"./chunk-QGLCH3FC.js";import{e as R,f as i,h as Ae,i as J,j as ke,l as b}from"./chunk-LGMSABOQ.js";i();var Tt=t=>t;i();i();i();var ot=(t,e)=>e.some(o=>t instanceof o),Fe,Ue;function rt(){return Fe||(Fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function it(){return Ue||(Ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Ve=new WeakMap,ge=new WeakMap,Ke=new WeakMap,ye=new WeakMap,be=new WeakMap;function at(t){let e=new Promise((o,r)=>{let a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",n)},s=()=>{o(T(t.result)),a()},n=()=>{r(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",n)});return e.then(o=>{o instanceof IDBCursor&&Ve.set(o,t)}).catch(()=>{}),be.set(e,t),e}function st(t){if(ge.has(t))return;let e=new Promise((o,r)=>{let a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",n),t.removeEventListener("abort",n)},s=()=>{o(),a()},n=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",n),t.addEventListener("abort",n)});ge.set(t,e)}var ve={get(t,e,o){if(t instanceof IDBTransaction){if(e==="done")return ge.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ke.get(t);if(e==="store")return o.objectStoreNames[1]?void 0:o.objectStore(o.objectStoreNames[0])}return T(t[e])},set(t,e,o){return t[e]=o,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $e(t){ve=t(ve)}function nt(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...o){let r=t.call(Q(this),e,...o);return Ke.set(r,e.sort?e.sort():[e]),T(r)}:it().includes(t)?function(...e){return t.apply(Q(this),e),T(Ve.get(this))}:function(...e){return T(t.apply(Q(this),e))}}function lt(t){return typeof t=="function"?nt(t):(t instanceof IDBTransaction&&st(t),ot(t,rt())?new Proxy(t,ve):t)}function T(t){if(t instanceof IDBRequest)return at(t);if(ye.has(t))return ye.get(t);let e=lt(t);return e!==t&&(ye.set(t,e),be.set(e,t)),e}var Q=t=>be.get(t);function Se(t,e,{blocked:o,upgrade:r,blocking:a,terminated:s}={}){let n=indexedDB.open(t,e),l=T(n);return r&&n.addEventListener("upgradeneeded",c=>{r(T(n.result),c.oldVersion,c.newVersion,T(n.transaction),c)}),o&&n.addEventListener("blocked",c=>o(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),a&&c.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),l}var ct=["get","getKey","getAll","getAllKeys","count"],dt=["put","add","delete","clear"],we=new Map;function ze(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(we.get(e))return we.get(e);let o=e.replace(/FromIndex$/,""),r=e!==o,a=dt.includes(o);if(!(o in(r?IDBIndex:IDBObjectStore).prototype)||!(a||ct.includes(o)))return;let s=async function(n,...l){let c=this.transaction(n,a?"readwrite":"readonly"),p=c.store;return r&&(p=p.index(l.shift())),(await Promise.all([p[o](...l),a&&c.done]))[0]};return we.set(e,s),s}$e(t=>({...t,get:(e,o,r)=>ze(e,o)||t.get(e,o,r),has:(e,o)=>!!ze(e,o)||t.has(e,o)}));i();i();var Y=class extends ke{constructor(e,o){super(e,{isSilent:o.isSilent,tags:{storeName:o.storeName,typeOfKey:typeof o.key,key:JSON.stringify(o.key),typeOfRecord:typeof o.record},extra:{recordsCount:o.count,record:JSON.stringify(o.record)}}),this.name="DbDetailedError"}};var pt=t=>t instanceof Error?t.message:JSON.stringify(t),y=async(t,e)=>{try{return await t()}catch(o){b(o instanceof Error,"error must be an instance of Error to be handled properly");let r,a;switch(o.message){case"Transaction timed out due to inactivity.":return y(t,e);case"The transaction was aborted, so the request cannot be fulfilled.":case"Failed to execute 'transaction' on 'IDBDatabase': The database connection is closing.":r=!0;break;case"Failed to read large IndexedDB value":{let{db:l,storeName:c}=e;l&&c!=="<all>"&&(a=await y(()=>l.count(c),{...e,op:"get records count from store (internal)"}));break}default:}let{op:s,...n}=e;throw new Y(`Couldn't ${s}: ${pt(o)}`,{...n,isSilent:r,count:a})}};i();i();i();var u=class{async prepare(){}};var X=class extends u{shouldRun(e){return e<3}migrate(e){e.db.createObjectStore("bookmarks")}};i();i();i();var _=async(t,e)=>{let o=await t;return y(()=>o.clear(e),{db:o,storeName:e,op:"clear store"})};i();i();var j=t=>{let e={...t};return Object.keys(e).forEach(o=>{q(e[o])||delete e[o]}),e};i();var L=Object.freeze({url:"",partitionId:"",accountId:"",title:null,favIconUrl:null,visits:Object.freeze([]),contentCrawledAt:null,contentTitle:null,contentFavIconUrl:null,attentionSpans:Object.freeze([]),markedAsUselessAt:null});i();var H=(t,e,o=Pe(5))=>{let r=[...t,...e??[]];return xe(r,s=>Math.floor(s/o)).sort()};var x=(t,e)=>{let o=e.attentionSpans||[],r=t.attentionSpans?Ee([...t.attentionSpans,...o]):o,a={...L,...j({...e}),...j({...t}),visits:H(e.visits??[],t.visits),attentionSpans:r};return j(a)};i();var F=async(t,e,o)=>{let r=await t;return y(()=>r.delete(e,o),{db:r,storeName:e,op:"remove record from store",key:o})};i();var De=(t,e)=>e,Re=async(t,e,o,r,a)=>{let s=t.objectStore(e),n=await s.get(o),l=n?a(n,r):r;return await s.put(l,o),l},Z=async(t,e,o,r,a=De)=>{let s=await t;return y(async()=>{let n=s.transaction(o,"readwrite"),l=await Re(n,o,e,r,a);return await n.done,l},{db:s,storeName:o,op:"upsert record into store",key:e,record:r})};i();var ut=(t,e,o)=>{let r=new Map;return t.forEach(a=>{let s=e(a),n=r.get(s),l=n?o(n,a):a;r.set(s,l)}),Array.from(r.values())},Je=async(t,e,o,r,a=De)=>{let s=ut(o,r,a),n=await t;return y(async()=>{let l=n.transaction(e,"readwrite"),c=s.map(p=>Re(l,e,r(p),p,a));await Promise.all(c),await l.done},{db:n,storeName:e,op:"upsert multiple records into store"})};i();var S=class{constructor(e){this.db=e}};var mt="~",A=({url:t,partitionId:e=""})=>`${e}${mt}${t}`,B=class extends S{upsert(e){if(!e.url)return Promise.resolve(void 0);let o=A(e);return Z(this.db,o,B.STORE_NAME,e,x)}upsertMulti(e){return Je(this.db,B.STORE_NAME,e,A,x)}remove(e){return this.removeByKey(A(e))}removeByKey(e){return F(this.db,B.STORE_NAME,e)}async*getAll(){let r=await(await this.db).transaction(B.STORE_NAME,"readonly").store.openCursor();for(;r;)yield{key:r.key,value:r.value},r=await r.continue()}clear(){return _(this.db,B.STORE_NAME)}async fixWrongKeys(){let o=(await this.db).transaction(B.STORE_NAME,"readwrite"),r=await o.store.openCursor();for(;r;){let{key:a,value:s}=r,n=A(s);a!==n&&(await o.store.get(n)||await o.store.put(s,n),await r.delete()),r=await r.continue()}}},P=B;R(P,"STORE_NAME","search-history-meta");var ee=class extends u{shouldRun(e){return e<4}migrate(e){e.db.createObjectStore(P.STORE_NAME)}};i();var te=class extends u{shouldRun(e){return e>=2&&e<4}async migrate(e){let o=e.objectStore("search-history-meta"),a=await e.objectStore("history-log").openCursor();for(;a;){let{tab:s,timestamp:n}=a.value;if(!s.url){a=await a.continue();continue}let l=[n],c={...L,url:s.url,partitionId:s.partitionName,title:s.title,favIconUrl:s.favIconUrl,lastVisitTime:n,visitCount:l.length,visits:l},p=A(c),m=await o.get(p),h=m?x(c,m):c;await o.put({...h,visits:H(h.visits,[],Ne(5))},p),a=await a.continue()}}};i();var oe=class extends u{shouldRun(e){return e>=1&&e<4}async migrate(e){let o=e.objectStore("search-history-meta"),a=await e.objectStore("resource-storage").openCursor();for(;a;){let{title:s,url:n,partitionName:l}=a.value,c={...L,url:n,partitionId:l,contentTitle:s,visits:[],attentionSpans:[]},p=A(c),m=await o.get(p),h=m?x(c,m):c;await o.put(h,p),a=await a.continue()}}};i();i();i();var E=async(t,e)=>{let o=await t;return y(()=>o.getAll(e),{db:o,storeName:e,op:"get all records from store"})};i();var U=async(t,e,o,r)=>{let a=await t;return y(()=>a.put(e,o,r),{db:a,storeName:e,op:"put record into store",key:r,record:o})};var re=class extends S{put(e,o){return U(this.db,re.STORE_NAME,o,e)}getAll(){return E(this.db,re.STORE_NAME)}},N=re;R(N,"STORE_NAME","search-select-stat");var ie=class extends u{shouldRun(e){return e<5}migrate(e){e.db.createObjectStore(N.STORE_NAME)}};i();var ae=class extends u{shouldRun(e){return e<6}migrate(e){e.db.createObjectStore("service-meta")}};i();var se=class extends u{shouldRun(e){return e>=2&&e<7}migrate(e){e.db.deleteObjectStore("history-log")}};i();var ne=class extends u{shouldRun(e){return e>=1&&e<7}migrate(e){e.db.deleteObjectStore("resource-storage")}};i();var le=class extends u{shouldRun(e){return e<7}async migrate(e){let o=e.objectStore("search-history-meta"),r=await o.openCursor();for(;r;){let{url:a,partitionId:s}=r.value,n=(s||"").replace("persist:","");if(n!==s){let l=A({url:a,partitionId:n}),c={...r.value,partitionId:n};await Promise.all([o.put(c,l),o.delete(r.key)])}r=await r.continue()}}};i();i();i();var ce=async(t,e,o)=>{let r=await t;return y(()=>r.get(e,o),{db:r,storeName:e,op:"get record from store",key:o})};var I=class extends S{clear(){return _(this.db,I.STORE_NAME)}async getAll(){let e=await E(this.db,I.STORE_NAME);return Oe(e,o=>o.id)}get(e){return ce(this.db,I.STORE_NAME,e)}put(e,o){return U(this.db,I.STORE_NAME,o,e)}remove(e){return F(this.db,I.STORE_NAME,e)}},k=I;R(k,"STORE_NAME","wallpaper");var de=class extends u{shouldRun(e){return e<9}migrate(e){e.db.createObjectStore(k.STORE_NAME)}};i();var pe=class extends u{shouldRun(e){return e===9}async migrate(e){await e.objectStore(k.STORE_NAME).clear(),await e.done}};i();i();var V=class extends S{clear(){return _(this.db,V.STORE_NAME)}getAll(){return E(this.db,V.STORE_NAME)}put(e,o){return U(this.db,V.STORE_NAME,o,e)}remove(e){return F(this.db,V.STORE_NAME,e)}},O=V;R(O,"STORE_NAME","videos");var ue=class extends u{shouldRun(e){return e<11}migrate(e){e.db.createObjectStore(O.STORE_NAME)}};i();i();var qe=new G,ii=["apps-loaded","apps-added","apps-changed","apps-removed"];i();var ht=(t,e)=>{let o={...e,...t,visits:H(e.visits??[],t.visits)};return j(o)},K=class extends S{upsert(e,o){return Z(this.db,e,K.STORE_NAME,o,ht)}getAll(){return E(this.db,K.STORE_NAME)}get(e){return ce(this.db,K.STORE_NAME,e)}},C=K;R(C,"STORE_NAME","application-local");var me=class extends u{apps=[];shouldRun(e){return e<12}async prepare(){this.apps=await new Promise(e=>{qe.once("apps-loaded",e)})}async migrate(e){let o=e.db.createObjectStore(C.STORE_NAME),r="service-meta",s=await e.objectStore(r).openCursor();for(;s;){let n=s.key,l=this.apps.find(p=>p.savedId===n);if(!l)return;let c=l.id;await o.put({...s.value,id:c},c),s=await s.continue()}e.db.deleteObjectStore(r)}};var he=class{migrations=[new X,new ee,new te,new oe,new ie,new ae,new se,new ne,new le,new de,new pe,new ue,new me];constructor(e,o){this.migrations=this.migrations.filter(r=>r.shouldRun(e,o))}async prepare(){await Promise.all(this.migrations.map(e=>e.prepare()))}async migrate(e){await this.migrations.reduce(async(o,r)=>(await o,r.migrate(e)),Promise.resolve()),await e.done}};var fe="sidekick",Te=12,ft=8,yt=500,Ge=t=>({wallpaperStore:new k(t),applicationLocalStore:new C(t),searchHistoryMetaStore:new P(t),searchSelectStatStore:new N(t),videoStore:new O(t)}),gt=()=>new Promise(t=>{let e=0,o=()=>{indexedDB.databases().then(t,r=>{if(e>ft){Me(r);return}let a=2**e*yt;e+=1,setTimeout(o,a)})};o()}),Qe=async t=>(await gt()).find(r=>r.name===t)?.version??0,vt=()=>y(async()=>{let t=await Qe(fe),e=new he(t,Te);return await e.prepare(),new Promise((o,r)=>{Se(fe,Te,{upgrade:(a,s,n,l)=>{e.migrate(l).catch(r)}}).then(o,r)})},{db:null,storeName:"<all>",op:"init database"}),zi=()=>{let t=vt();return Ge(t)},bt=()=>y(()=>new Promise((t,e)=>{let o=()=>{Qe(fe).then(r=>{r===Te?Se(fe).then(a=>t(a),e):setTimeout(o,500)}).catch(e)};o()}),{db:null,storeName:"<all>",op:"wait database"}),Ji=()=>{let t=bt();return Ge(t)};i();i();var $=class{static parseNavigationScript(e){return{...e,exclude:e.exclude?.map(o=>new RegExp(o)),resources:e.resources.map(o=>this.convertResourceRuleToUse(o))}}static parseResourceFromNavigationScript(e,o,r){let{hostname:a,href:s,protocol:n}=o,l=s.substring(n.length+2),c=a.startsWith("www."),p=this.removeWWW(l),m=this.removeWWW(o.hostname);if(e.exclude){let h=this.checkUrlIsExcluded(l,e.exclude);if(h)return{excluded:h}}for(let h=0;h<e.resources.length;h+=1){let f=e.resources[h];b(f!==void 0,"Failed to parse resource from navigation script: rule not found in resources for index",{resources:e.resources,index:h});let v=f.matchUrl.exec(p);if(!v)continue;let[D]=v;b(D!==void 0,"Failed to parse resource from navigation script: matchedStr not found in urlMatch",{urlMatch:v});let g=v.groups,w=this.getTitle(r,m,f,g),M=f.url?this.normalize({template:f.url,urlGroups:g,hostname:m}):D;return{key:f.key?this.normalize({template:f.key,urlGroups:g,hostname:m}):D.substring(m.length),title:w,url:`${n}//${c?"www.":""}${M}`,itemType:f.type,targetContainer:f.targetContainer,openInAppWithRecipeId:f.openInAppWithRecipeId,isMessenger:f.isMessenger||!1}}return null}static convertResourceRuleToUse(e){return{...e,matchUrl:new RegExp(e.matchUrl),matchTitle:e.matchTitle!==void 0?new RegExp(e.matchTitle):e.matchTitle}}static removeWWW(e){let o=/^www\./i;return e.replace(o,"")}static checkUrlIsExcluded(e,o){for(let r=0;r<o.length;r+=1){let a=o[r];if(a&&a.exec(e))return!0}return!1}static getTitle(e,o,r,a){if(!e)return"";if(!r.matchTitle&&!r.titleReplace)return this.normalize({template:r.title||e,urlGroups:a,hostname:o});let s=e;if(r.titleReplace){let n=new RegExp(r.titleReplace,"gi");s=s.replaceAll(n,"")}if(r.matchTitle){let n=r.matchTitle.exec(s);n&&(s=this.normalize({template:r.title||e,urlGroups:a,titleGroups:n.groups,hostname:o}))}return s}static normalize({template:e,hostname:o,urlGroups:r,titleGroups:a}){let s=!1,n="",l="";for(let c=0;c<e.length;c+=1){let p=e[c];if(p==="<"){s=!0,n=p;continue}if(p===">"&&s){if(s=!1,n==="<hostname"){l+=o;continue}let m=r?.[n.substring(1)]||a?.[n.substring(1)];m?l+=m:(l+=n,l+=p);continue}s?n+=p:l+=p}return l}};var wt=1e3;var Ye=class{navigationScriptsByDomain={};emitter=new G;parseUrl=We(_e,{max:wt});onNavigationScriptsLoaded(e){return this.emitter.on("loaded",e)}setNavigationScripts(e){return e.forEach(o=>{let r=$.parseNavigationScript(o);this.navigationScriptsByDomain[r.hostname]=r,r.hostnames&&r.hostnames.forEach(a=>{this.navigationScriptsByDomain[a]=r})}),this.emitter.emit("loaded"),this}hasNavigationScriptFor(e){return Boolean(this.getNavigationScriptByHostname(e))}getFavIconForHostname(e){let o=this.getNavigationScriptByHostname(e);return!o||o.preferOwnIcons?null:o.icon}polishDocument(e){let{url:o,title:r,domain:a}=e,s=this.parseUrl(o);if(!s)return null;let n=this.getNavigationScriptByUrl(s,a);if(!n)return null;let{id:l,name:c,hostname:p,icon:m,resources:h,targetContainer:f,openInAppWithRecipeId:v=null,isMessenger:D=!1}=n;if(!h)return null;let g=$.parseResourceFromNavigationScript(n,s,r);if(!g)return null;let w={recipeId:l,recipeAppName:c,hostname:p,favIconUrl:m};return J(g,"excluded")?{...w,excluded:!0}:{...w,key:g.key,excluded:!1,itemType:g.itemType,title:g.title,url:g.url,targetContainer:g.targetContainer||f||null,openInAppWithRecipeId:g.openInAppWithRecipeId||v,isMessenger:g.isMessenger||D}}getNavigationScriptByHostname(e){return this.navigationScriptsByDomain[e]??null}getNavigationScriptByUrl(e,o){return[o,e.hostname,je(e.hostname),Le(e)].filter(q).reduce((a,s)=>{if(a)return a;let n=this.getNavigationScriptByHostname(s);return n||a},null)}};i();var Xe=class{resolve=Be;promise=this.createPromise();wait(){return this.promise??Promise.resolve()}mark(e){!this.promise!==e&&(e?(this.resolve(),this.promise=null):this.promise=this.createPromise())}createPromise(){return new Promise(e=>{this.resolve=e})}};i();var pa=15e3,ua=1e3,ma=Ie(3);i();var Ze=new Ce({max:10}),et=t=>Math.trunc(Number(t)),tt=(t,e)=>{let{Bias:o,Scale:r,TreeDepth:a,TreeSplits:s,TreeCount:n,LeafValues:l,Borders:c,BorderCounts:p,FloatFeatureCount:m}=t;if(!Array.isArray(e))throw new Error("Input features should be array");let h=Number(m);if(e.length!==h)throw new Error(`Input features has wrong count elements: ${e.length}. Should be ${h}`);let f=[];for(let w=0;w<h;w+=1){let M=p[w];b(M!==void 0,"Failed to predict internally: no borderCount");for(let W=0;W<Number(M);W+=1)f.push(Number(e[w])>Number(c[f.length])?1:0)}let v=0,D=0,g=0;for(let w=0;w<Number(n);w+=1){let M=et(a[w]??0),W=0;for(let z=0;z<M;z+=1)W|=(f[et(s[z+D]??0)]??0)<<z;v+=l[W+g]??0,D+=M,g+=1<<M}return 1/(1+Math.exp(-r*v-Number(o)))},St=(t,e)=>{let{version:o,test_data:r,test_predictions:a}=t;b(e.version===o,`Model should contain "version" key with value: ${e.version} (current value: ${o})`),b(r,`Model doesn't contain test dataset in "test_data" key`),b(a,`Model doesn't contain test predictions in "test_predictions" key`),b(r.length===a.length,`Count of test predictions (${a.length}) != count of test dataset (${r.length})`);for(let s=0;s<r.length;s+=1){let n=r[s];b(n!==void 0,"Value can not be undefined to validate model",{data:r,index:s});let l=tt(t,n),c=l-Number(a[s]);if(c>1e-4)throw new Error(`Delta (${c}) is incorrect for testing sample #${s}. Prediction ${l}. Reference value: ${a[s]||"n/a"}.`)}},Dt=(t,e,o)=>t.fields.map(r=>{let a=e.indexOf(r);b(a!==-1,`Couldn't find field "${r}" in input records`);let s=o[a];return b(s!==void 0,"Value in record not found for index",{record:o,index:a}),typeof s=="boolean"?Number(s):s}),Sa=async({model:t,version:e,fields:o,records:r,fetch:a=globalThis.fetch})=>{if(!t)throw new TypeError("Model url should be defined!");let n=await(l=>{let c=Ze.get(l);if(c)return c;let p=Promise.resolve().then(async()=>{let m=new Request(l),h=await a(m),f=await He(h,m);try{St(f,{version:e})}catch(v){let D=Ae(v)&&J(v,"message")&&typeof v.message=="string"?v.message:"N/A";throw new Error(`JSON model is invalid: ${D}`)}return f});return Ze.set(l,p),p})(t);if(!n)throw new Error(`Couldn't load model "${t}"`);return Promise.all(r.map(l=>Dt(n,o,l)).map(l=>tt(n,l)))};i();var Ta=t=>Object.fromEntries(Object.entries(t).map(([e,o])=>[e,o.value]));var Ba={cpuMonitor:{works:!0,description:"When cpuMonitor works, displayed CPU Monitor section in global settings",params:{maxRetries:{value:5,description:"[value is number] Wait for this number of samples before triggering an event"},cpuThreshold:{value:90,description:"[value is percent] If process takes more than this % of CPU, trigger an event"},inactiveTime:{value:2,description:"[value is minutes] Amount of time tab must be inactive before discarding"},domainsBlacklist:{value:["facebook.com","notion.com","slack.com","linear.com"],description:"[value is array of string] List of domains to match: if domain is in this list, tab will be discarded"},domainsWhitelist:{value:["youtube.com","meet.google.com","zoom.us"],description:"[value is array of string] List of domains to match: if domain is in this list, tab will not be discarded even if it's present in blacklist"},checkEverySeconds:{value:30,description:"[value is seconds] Take CPU samples every N seconds"},enableAutoDiscard:{value:!0,description:"[value is boolean] Whether to discard greedy tabs automatically"},enableNotifications:{value:!0,description:"[value is boolean] Whether to show notification after tab was discarded"}}},crashSender:{description:"",works:!0,params:{checkIntervalMinutes:{description:"",value:60},sendCrashesTimeoutMinutes:{description:"",value:120}}},exploreSidekickV2:{works:!1,description:"Enable new Explore Sidekick in the help sidecar",params:{isNtpMode:{description:"[boolean] Should show Explore Sidekick V2 on NTP",value:!1}}},extensionKicker:{works:!0,description:"Configuration for CPU kicker",params:{earlyKickTimeout:{description:"[value is seconds] timeout between start extension and current kick",value:120},maxUsedJSHeap:{description:"[value is bytes] max allowable value of js memory used",value:204857600},maxPrivateMemory:{description:"[value is bytes] max allowable value of private memory used",value:53036e4}}},gmailSignature:{works:!1,description:"Integration with Gmail for signature invites link",params:{template:{description:"[value is string] Template as HTML, where %%link%% is user's invite link",value:"---<br/>Sent with Gmail for <a href='%%link%%'>Sidekick Browser</a>"},intervalBetweenShowingDays:{description:"[value is days] interval between showing auth popup for feature",value:14}}},search:{works:!0,description:"Configuration for search",params:{debug:{description:"[value is boolean] Debug mode",value:!1},verboseLog:{description:"[value is boolean] Verbose logging",value:!1},algorithm:{description:"[value is string] Algorithm for using in scoring",value:"basic"},app:{description:"[value is object] Weights for scoring",value:{base:1050,activeBonus:1e3,queryWordsCountRatio:0,lastAccessDaysRatio:50,visitsCountRatio:{all:3,lastMonth:10,lastWeek:30,today:100},appNameMatchRatio:15,workspaceNameMatchRatio:5,workspaceActiveBonus:50,selectRatio:100}},openedTab:{description:"[value is object] Weights for scoring",value:{base:2500,queryWordsCountRatio:0,lastAccessMinutesRatio:50,visitsCountRatio:{all:3,lastMonth:10,lastWeek:30,today:100},titleMatchRatio:10,appNameMatchRatio:5,itemTypeMatchRatio:2,urlMatchRatio:1,selectRatio:100}},bookmark:{description:"[value is object] Weights for scoring",value:{base:1050,queryWordsCountRatio:0,lastAccessDaysRatio:50,visitsCountRatio:{all:3,lastMonth:10,lastWeek:30,today:100},titleMatchRatio:10,appNameMatchRatio:5,itemTypeMatchRatio:2,urlMatchRatio:1,selectRatio:100}},document:{description:"[value is object] Weights for scoring",value:{base:1025,queryWordsCountRatio:0,lastAccessDaysRatio:50,visitsCountRatio:{all:3,lastMonth:10,lastWeek:30,today:100},titleMatchRatio:10,appNameMatchRatio:5,itemTypeMatchRatio:2,urlMatchRatio:1,selectRatio:300}},other:{description:"[value is object] Weights for scoring",value:{base:500,queryWordsCountRatio:0,lastAccessDaysRatio:50,visitsCountRatio:{all:3,lastMonth:10,lastWeek:30,today:100},titleMatchRatio:10,appNameMatchRatio:5,itemTypeMatchRatio:2,urlMatchRatio:1,selectRatio:100}},textMatch:{description:"[value is object] Weights for scoring",value:{distancePenalty:-5,exactBonus:100,exactUrlBonus:2.5,startIncludeBonus:80,includeBonus:60,startFuzzyBonus:0,fuzzyBonus:0,usefulLimitDistance:0,uselessBonus:5}}}},featuresUpdater:{works:!0,description:"Settings for features updater",params:{maxDelay:{description:"[value in ms] Maximum delay before request features after receiving push",value:6e4}}},fcm:{works:!1,description:"Enables Firebase Cloud Messaging instead of pusher"},extensionWatchdog:{works:!1,description:"Watchdog watches if extension consume a lot of CPU for long time. It watches and restarts extension if needed"},globalAuthDomains:{works:!0,description:"Allow to visit these domains as part of any app since required for auth",params:{domains:{description:"[value is list of domains] List of domains which popular for auth",value:["accounts.google.com","accounts.youtube.com","appleid.apple.com","login.live.com","account.live.com","signup.live.com","fpt.live.com","login.microsoftonline.com","login.microsoft.com","app.vssps.visualstudio.com","auth.atlassian.com","id.atlassian.com","oauth.vk.com"]}}},nativeAdBlockAllowList:{works:!0,description:"Allow list for browser based adblocker.",params:{domains:{description:"[value is list of domains] List of domains which shouldn't be blocked by adblocker",value:[]}}},tabsDiscarder2:{works:!0,description:"Config for Tabs Discarder",params:{whitelistKeepSeconds:{description:"[value in secs] Time to discard messengers or tabs with whitelisted domains ",value:259200},forceDiscardAfterSeconds:{description:"[value in secs] Time to force discard tab by last access time",value:86400},reportIntervalSeconds:{description:"[value in secs] How often the system should send report about experiment. 0 should disable reporting",value:900},debug:{description:"[value is boolean] Enables debug logs.",value:!1},model_v1:{description:"[value is url] URL to ML-model which exported as JSON file",value:""},threshold_v1:{description:"[value is [0, 1] float] Threshold of ML-model scoring which using in decision maker to discarding tabs (tab's score should be less than the threshold for tab discarding) ",value:.5},fraction_v1:{description:"[value is [0, 1] float] Ratio that using to define group for experiment on startup",value:0}}},usageTracker2:{works:!1,description:"Send usage-track events through new mechanism",params:{activateTimeoutMs:{description:"[value in ms] Timeout before send track event",value:5e3},experiment:{description:"[value is boolean] Enable A/B testing",value:!1}}},randomUserAgent:{works:!0,description:"Randomize part of UserAgent",params:{disabledDomains:{description:"[value is list of stings] List of domains where randomization is turned off",value:[]}}},forcedUserAgents:{works:!1,description:"Config for rewriting UserAgent in browser based on browser major version and platform",params:{"88":[{value:"Chrome/88.0.4324.150",platform:"mac"},{value:"Chrome/88.0.4325.150",platform:"win"},{value:"Chrome/88.0.4326.150",platform:"linux"},{value:"Chrome/88.0.4327.150",platform:"arm64"}],"90":[{value:"Chrome/90.0.4430.85",platform:"mac"},{value:"Chrome/90.0.4431.85",platform:"win"},{value:"Chrome/90.0.4432.85",platform:"linux"},{value:"Chrome/90.0.4433.85",platform:"arm64"}]}},usageAccumulator:{works:!0,description:"Config for sending usage-track events through accumulator",params:{browsingUsage:{description:"[value is array of objects] Config for sending events split by time slots",value:[{durationSeconds:2400,sendIntervalSeconds:60},{durationSeconds:7200,sendIntervalSeconds:600},{sendIntervalSeconds:1800}]}}},sentrySampling:{works:!1,description:"Reduce number of events sent to Sentry based on rules",params:{sampleRate:{description:"[value is number in 0..1] Same as https://docs.sentry.io/platforms/javascript/configuration/filtering/#sampling-error-events",value:1},tracesSampleRateUI:{description:"[value is number in 0..1] Rate of sampling for performance tracing for UI",value:.002},tracesSampleRateBackground:{description:"[value is number in 0..1] Rate of sampling for performance tracing for background",value:.006},rules:{description:"[value is array of rules] List of rules to apply filtering",value:null}}},signUpDialog:{works:!0,description:"Should we show and block sign up by temp users or not",params:{showAfterDays:{value:1,description:"[value in days] Start showing sign up dialog after N days of actual using"},blockAfterDays:{value:3,description:"[value in days] Start blocking everything with sign up dialog after N days of actual using"}}},overrideShortcuts:{works:!0,description:"Override shortcuts by user locale",params:{version:{description:"[value is integer] Version of shortcuts override. Should only grow.",value:1},all:{description:"[value is object] Map of shortcut replaces by command names",value:{"global-search":{from:"",all:"Alt+S",mac:"Alt+F"},"activate-service-1":{from:"",all:"Alt+1"},"activate-service-2":{from:"",all:"Alt+2"},"activate-service-3":{from:"",all:"Alt+3"},"activate-service-4":{from:"",all:"Alt+4"},"activate-service-5":{from:"",all:"Alt+5"},"activate-service-6":{from:"",all:"Alt+6"},"activate-service-7":{from:"",all:"Alt+7"},"activate-service-8":{from:"",all:"Alt+8"},"activate-service-9":{from:"",all:"Alt+9"},"toggle-active-tabs":{from:"",all:"Alt+Z"},"show-sessions":{from:"",all:"Alt+W"},"toggle-sessions-sidecar":{from:"",all:"Shift+Alt+W"},"toggle-help-sidecar":{from:"",all:"Alt+H"}}},byLocale:{description:"[value is object] [value is object] Map of shortcut replaces by command names grouped by locale",value:{es:{"activate-service-1":{from:"Alt+1",all:"Alt+Shift+1"},"activate-service-2":{from:"Alt+2",all:"Alt+Shift+2"},"activate-service-3":{from:"Alt+3",all:"Alt+Shift+3"},"activate-service-4":{from:"Alt+4",all:"Alt+Shift+4"},"activate-service-5":{from:"Alt+5",all:"Alt+Shift+5"},"activate-service-6":{from:"Alt+6",all:"Alt+Shift+6"},"activate-service-7":{from:"Alt+7",all:"Alt+Shift+7"},"activate-service-8":{from:"Alt+8",all:"Alt+Shift+8"},"activate-service-9":{from:"Alt+9",all:"Alt+Shift+9"}}}}}},sharingApps:{works:!1,description:"Enable ability for P2P sharing apps"},shortcutsAnalytics:{works:!0,description:"Send report of shortcuts using",params:{sendEveryMinutes:{description:"[value is minutes] How often extension should send report to analytics",value:1440}}},hintsV2:{works:!0,description:"Config for hints.",params:{autoCloseHintDelaySeconds:{value:10,description:"[number in seconds] Delay before hint auto close"},firstPeriodDays:{value:7,description:"[number in days] First showing period days number"},firstPeriodShowingPeriodHours:{value:1,description:"[number in hours] Delay between showing in hours"},otherTimeShowingPeriodHours:{value:24,description:"[number in hours] Delay between showing in hours after first period"},shortcutsDaysPeriodForHintPass:{value:3,description:"[number in days] User must use shortcut in this period with shortcutsNumberForHintPass number of usage for hiding hint automatically"},shortcutsNumberForHintPass:{value:5,description:"[number] User must use shortcut times for hiding hint automatically"},hintAfterTabsClosingCount:{value:10,description:"[number] How much tabs/apps user must close before hint for cmd+W"}}},showHintsConditions:{works:!1,description:"\u0421onditions for showing hints.",params:{userWasActivated:{value:!0,description:"[boolean] Has been user activated in settings."},daysBeforeShowingFirstHints:{value:1,description:"[number] Days before showing new hints for user."}}},focusModeHint:{works:!0,description:"Show hint before enabling sync of focus mode",params:{dontBlockSync:{value:!0,description:"[value is boolean] Should we enable the sync without confirming from the user"},startAutoShowAfterDays:{value:1,description:"[value in days] When we start to auto show the hint after actual usage days"},countDaysToAutoShow:{value:5,description:"[value in days] How much of actual usage days we should show the hint"},shouldEnableAfterFinish:{value:!0,description:"[value is boolean] Should we turn sync of focus mode on after finishing auto-showing hint"}}},pmfSurvey2:{works:!1,description:"Whether to show PMF survey banner on NTP",params:{surveyUrl:{description:"[value is url] Survey url",value:""},showEveryDays:{description:"[value is days] How often we should show the popup",value:7},maxTimesToShow:{description:"[value is number] Max times we should show the popup if user close it",value:3}}},syncV2:{works:!1,description:"Enable ability to sync"},syncSessions:{works:!1,description:"Enable ability to sync sessions",params:{syncIntervalSeconds:{description:"[value is number in seconds] Interval show syncing with backend",value:300}}},proxy:{works:!0,description:"Ability to use our proxy server",params:{servers:{description:"[value is list of domains] List of proxy servers",value:["https://example:example@prx.meetsidekick.com"]},domains:{value:{Twitter:["twitter.com","twimg.com"],WhatsApp:["whatsapp.com"],Instagram:["instagram.com"],"Linkedin.com":["linkedin.com","licdn.com"],"Usertesting.com":["usertesting.com"],"Facebook and FB Messenger":["fb.com","facebook.com","messenger.com","fbcdn.com","fbcdn.net"]},description:"[value is list of domains] List of domains which will be proxy"}}},subscriptionPriceExperiment:{works:!1,description:"Settings for special price for Pro plan (experiment)"},autoSyncFocusMode:{works:!0,params:{runEveryDays:{description:"[value in days] How often we should auto-sync status in apps with Focus mode",value:7},runEveryDaysFor:{value:{discord:3,msteams:3,skype:3,slack:3,whatsapp:3}}}},syncFocusMode:{works:!0,params:{dontClearStatus:{value:!1,description:"[value is boolean] By default some messengers clear status after 1 day, this parameter can disable the clearing"}}},hoverAppMenuSidebar:{works:!1,description:"Experiment. Enable feature for hover open app menu",params:{openningTime:{value:600,description:"[value in ms] hover time-out for open app service popup"},closingTime:{value:400,description:"[value in ms] hover time-out for close app service popup"},autoClosingTime:{value:2e3,description:"[value in ms] closing time when cursor not hover app popup"}}},hoverSessionSwitcherSidebar:{works:!1,description:"Experiment. Enable feature for hover open session switcher",params:{delayBeforeShowing:{value:600,description:"[value in ms] hover time-out for open session popup"},delayBeforeHiding:{value:400,description:"[value in ms] hover time-out for close session popup"},delayBeforeAutoHiding:{value:2e3,description:"[value in ms] closing time when cursor not hover session popup"}}},distractionBlocker:{works:!1,description:"Enable Distraction Blocker",params:{rules:{description:"[value is list of rules] List of rules which should't be blocked by default",value:[{from:"youtube.com",to:"mail.google.com"},{from:"facebook.com",to:"mail.google.com"},{from:"instagram.com",to:"mail.google.com"}]},schedule:{description:"[value is dict of options] Dict with default options for scheduling distaction blocker",value:{allDay:!1,from:"09:00",to:"18:00",weekdays:["Monday","Tuesday","Wednesday","Thursday","Friday"]}},isIntroPopupEnabled:{description:"[value in boolean] the flag of intro modal enabled",value:!1},introPopupDelayHours:{description:"[value in number] the number of hours after onboarding that modals should be delayed",value:12}}},calendarsIntegrationV2:{works:!1,description:"Enable Google and Microsoft calendars integration"},walkthroughV2:{works:!1,description:"Enable Walkthrough feature"},intercom:{works:!1,description:"Intercom feature visibility",params:{disableForTrialUsers:{value:!0,description:"[boolean] If true - intercom will visible for paid users, teams and users which get pro plan as gift"}}},collections:{works:!1,description:"Enable collections feature"},forceCollectionsEnableForTeams:{works:!1,description:"Force enable collections for users with team plan even if collections feature is disabled"},searchIconInToolbar:{works:!1,description:"Enable search icon in toolbar instead of sidebar"},defaultBrowserNotificationV3:{works:!1,description:"Settings for showing default browser notifications reminder",params:{firstPeriodInDays:{value:14,description:"[value in days] First showing period days number"},intervalForFirstPeriodInHours:{value:48,description:"[value in hours] Delay between showing in hours in the first period"},intervalForOtherPeriodInHours:{value:336,description:"[value in hours] Delay between showing in hours"},delayFromOnboardingInHours:{value:48,description:"[value is number in hours] Delay after onboarding before showing"},useDefaultBrowserUI:{value:!0,description:"[value is boolean] Use browser topbar UI if true or our custom popup if false"}}},shortcutsPopup:{works:!0,params:{limitDaysForPopup:{description:"[value in days] How much days for must visible button of shortcuts popup",value:30}}},actualMinutesUsedReport:{works:!0,params:{sendEveryMinutes:{description:"[value in minutes] How often the system should send report about actual minutes used. 0 should disable reporting",value:30},maxEventsPerDay:{description:"[value in integer] Maximum count of events that can be sent per day. 0 should disable the limit",value:0}}},focusModeShortcut:{works:!1,description:"Enable window focus mode shortcut, allowing hiding tab strip and sidebar"},newBilling:{works:!0,description:"A/B switcher for old and new billing",params:{startTrialForOldUsers:{description:"[boolean] Try to start trial for not new users",value:!1},daysBeforeShowingExpireSoon:{description:"[number in days] Number of days before showing UI about trial expiring soon",value:7},disableForTeamUsers:{description:"[boolean] Is new billing disabled for team users",value:!0},expireSoonShowingInterval:{description:"[number in hours] How often we can show trial expire soon popup",value:24}}},yearlyOfferPopup:{works:!1,description:"Should show special offer yearly upgrade popup on NTP. Only for monthly paid subs.",params:{intervalInDays:{value:14,description:"[value in days] how often show popup"}}},muteNotificationsPopup:{works:!1,description:"A/B switcher for old and new notifications on sidebar",params:{delayBeforeShowing:{value:600,description:"[value in ms] hover time-out for open popup"},delayBeforeHiding:{value:400,description:"[value in ms] hover time-out for close popup"},delayBeforeAutoHiding:{value:2e3,description:"[value in ms] closing time when cursor not hover popup"}}},progressiveDiscountOffer:{works:!1,description:"Last chance offer for annual billed plan before Trial ends and once for paid users",params:{daysBeforeTrialEndToShow:{value:3,description:"[value in days] delay before trial ending"},showingPeriodHours:{value:24,description:"[value in hours] offer period"},showingIntervalHours:{value:6,description:"[value in hours] interval for showing in showingPeriodHours"},showForNotTrial:{value:!0,description:"[value is boolean] Once show for every not trial/yearly/forever-free users"}}},afterTrialDiscountOffer:{works:!1,description:"Discount for motivating to buy Pro plan after trials end",params:{showingPeriodHours:{value:24,description:"[value in hours] offer period"},showingIntervalHours:{value:6,description:"[value in hours] interval for showing in showingPeriodHours"},daysAfterTrialEndToShow:{value:3,description:"[value in days] delay before trial ending"}}},helpLinks:{works:!0,description:"URLs for links shown in Help sidecar",params:{learningCenter:{description:"[string] Learning Center",value:"https://help.meetsidekick.com/en/"},whatsNew:{description:"[string] What's New",value:"https://help.meetsidekick.com/en/articles/6767154-what-s-new-version-history"},discordCommunity:{description:"[string] Discord Community",value:"https://discord.gg/GWDC62Yh9y"},whySidekickFast:{description:"[string] Why Sidekick browser is so fast",value:"https://www.meetsidekick.com/why-sidekick-browser-is-so-fast/"}}},tasks:{works:!1,description:"New Tasks manager"},beforeProductHuntPopup:{works:!1,description:"Whether to show Product Hunt notification and popup on NTP",params:{date:{description:"When to show 'before Product Hunt' popup. The banner on NTP will be shown after 4 hours.",value:{hour:9,minutes:1,day:5,month:10,year:2023}}}},productHuntPopupLive:{works:!1,description:"Whether to show Product Hunt Live notification and popup on NTP",params:{productHuntLink:{description:"Link to which banner will follow",value:"https://www.producthunt.com/posts/sidekick-browser-for-teams"}}},adblockToolbarButton:{works:!1,description:"Should show adblocker button on toolbar"},b2b:{works:!1,description:"Is b2b enabled",params:{minInvitationLimitForNewTeam:{description:"[number] Minimum limit of people to invite to create a team",value:3}}},splitViewApps:{works:!1,description:"Whether to open apps in split view that have shouldOpenInSplitView flag"},sessionsForOldUsers:{works:!1,description:"If old users can still use sessions without pro subscription",params:{shouldShowUpgradePopup:{value:!1,description:"[boolean] should show sessions pro upgrade popup"}}},verticalTabs:{works:!1,description:"Enable vertical tabs preference",params:{shouldOpenNewTabsOnTop:{value:!1,description:"[boolean] should open NTP on the top of the tabs list"}}},showCollectionModal:{works:!1,description:"Whether to show collection modal",params:{daysLimitBeforeToShow:{value:2,description:"after [number] days we can show modal"}}},showVerticalTabsModal:{works:!1,description:"Whether to show vertical tabs modal and banner"},showPaidTrialModal:{works:!1,description:"Whether to show paid trial modal",params:{daysBeforeShowing:{value:3,description:"[number] days before showing modal"},reminderCounter:{value:4,description:"[number] of times to show modal if user clicked remind later"}}},cancelDiscountOffer:{works:!1,description:"Whether to show popup with cancel discount offer"}};export{Tt as a,Se as b,j as c,L as d,H as e,x as f,qe as g,ii as h,gt as i,zi as j,Ji as k,Ye as l,Xe as m,pa as n,ua as o,ma as p,Sa as q,Ta as r,Ba as s};

