import{f as t,h as y,i}from"./chunk-LGMSABOQ.js";t();var d=null,I=[/^No window with id: (\d+).$/,/^No tab with id: (\d+).$/,/^No group with id: (\d+).$/,/^No Sidekick views for the window/,/^The window hasn't sidebar/],p=(e,n=void 0)=>{console.error(e),d&&d.captureException(e,n)},h=e=>{let n=e instanceof Error&&e.message;(!n||!I.some(r=>r.test(n)))&&p(e)},R=e=>{d=e},T=()=>d;t();var c=(o=>(o.CallAction="CALL_ACTION",o.Query="QUERY",o.QueryResolve="QUERY_RESOLVE",o.QueryReject="QUERY_REJECT",o.SubscribeStart="SUBSCRIBE_START",o.SubscribeUpdate="SUBSCRIBE_UPDATE",o.SubscribeEnd="SUBSCRIBE_END",o.ProxyCall="PROXY_CALL",o))(c||{});t();var C=Object.values(c),A=e=>y(e)&&i(e,"type")&&typeof e.type=="string"&&C.includes(e.type)&&i(e,"client");t();var j=(e,n,r)=>{if(!e.has(n)){let a=typeof r=="function"?r():r;return e.set(n,a),a}return e.get(n)};t();var g=e=>!!e&&typeof e.then=="function";t();var D=(e,n)=>{g(e)&&e.then(n).catch(p)};t();var J=e=>{switch(e.type){case"overlay":return`${e.type}_${e.windowId}_${e.id}`;case"popup":return`${e.type}_${e.windowId}_${e.id}`;case"sidecar":return`${e.type}_${e.windowId}`;case"ntp":return`${e.type}_${e.tabId}`;case"worker":return`${e.type}_client`;default:throw new TypeError("Unknown client type")}};t();t();var S=e=>crypto.getRandomValues(new Uint8Array(e)),E=(e,n,r)=>{let a=(2<<Math.log(e.length-1)/Math.LN2)-1,u=-~(1.6*a*n/e.length);return(w=n)=>{let l="";for(;;){let f=r(u),o=u;for(;o--;)if(l+=e[f[o]&a]||"",l.length===w)return l}}},H=(e,n=21)=>E(e,n,S),m=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((n,r)=>(r&=63,r<36?n+=r.toString(36):r<62?n+=(r-26).toString(36).toUpperCase():r>62?n+="-":n+="_",n),"");var x=21,b=()=>m(x),re=e=>e.length===x;t();var ye=e=>{let n=new Set;return{type:"proxy",id:b(),fn:e,dispose:()=>{n.forEach(r=>r()),n.clear()},claim:r=>{n.add(r)},unclaim:r=>{n.delete(r)}}},de=e=>y(e)&&i(e,"type")&&e.type==="proxy";export{p as a,h as b,R as c,T as d,j as e,g as f,D as g,J as h,H as i,m as j,b as k,re as l,ye as m,de as n,A as o};

